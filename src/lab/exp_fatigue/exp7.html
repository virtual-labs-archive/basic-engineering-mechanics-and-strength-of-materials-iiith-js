<!DOCTYPE html>
<html>
<head>
	<script src="exp7.js"></script>
	<link rel="stylesheet" href="exp7.css">
  <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
  <script>
function graph() {

var dps = []; // dataPoints
var chart = new CanvasJS.Chart("chartContainer", {
      title :{
            text: "log(stress) v/s log(N)"
      },
      axisY: {
            includeZero: true,
            title: "Stress (MPa)"
      },
      axisX: {
            includeZero: true,
            title: "Number of cycles"
      },      
      data: [{
            type: "line",
            dataPoints: dps
      }]
});
var j=0;
var xVal = 0;
var yVal = 0; 
var updateInterval = 4000;
//var dataLength = 4;// number of dataPoints visible at any point
var dp=[{xx:2.123851641 ,yy:2.470410491 },{xx:2.123851641,yy:2.470410491},{xx:2.245512668,yy:2.440121603},{xx:2.301029996,yy:2.404149249},{xx:2.447158031,yy:2.368472838},{xx:2.544068044,yy:2.299725154},{xx:2.579783597,yy:2.261976191},{xx:2.64738297,yy:2.247973266},{xx:2.942504106,yy:2.08278537},{xx:2.957607827,yy:2.0523091},{xx:3.232487866,yy:2.069298012},{xx:3.477121255,yy:2.012415375},{xx:3.825426118,yy:1.937818685},{xx:3.989004616,yy:1.904011884},{xx:4.203858464,yy:1.884682104},{xx:4.639087871,yy:1.762978491},{xx:4.779235632,yy:1.863739107},{xx:4.80140371,yy:1.81723473},{xx:5.150142162,yy:1.617105231},{xx:5.221570712,yy:1.69609416}];
var updateChart = function () {

      
      xVal = dp[j].xx;            
      yVal = dp[j].yy;        
      dps.push({
                  x: xVal,
                  y: yVal
            });
      

      if (dps.length > 100) {
            dps.shift();
      }
      if(j<19)
      {chart.render();
      j++;}
};

updateChart();
setInterval(function(){updateChart()}, updateInterval);

}
</script>
</head>
<body>
  <div id="chartContainer" style="height: 500px; width:500px;"></div>
	<div class="container" id="con">
  <img id="im1" src="Images/blue.png">
  <button id="bt1" onclick="myfun1();graph()">Restart</button>
  <button id="bt2" onclick="myfun1();graph()">Start</button>
  <button id="bt3" onclick="myfun2()">Show-Graph</button>	
  <img id="im2" src="Images/restart.png">
  <img id="im3" src="Images/start.png">
  <img id="im4" src="Images/show_graph.png">
	</div>
	<div id="abox"></div>
 <div id="mobj"></div>
  <div id="dbox"></div>
  <div id="yline1"></div>
  <div id="yline2"></div>
  <div id="bbox"></div>
  <div id="cbox"></div>  
  <div id="lptn"></div>
  <div id="rptn"></div>
  <p id="para"></p>
  <div id="botbox">
	<button id="stress">Stress</button>
  <button id="turn">No. of cycles</button>
  <button id="force">Force</button>
  <p id="pstress"></p>
  <p id="pturn"></p>
  <p id="pforce"></p>
  </div>
	 <p id="mp"> <u>FATIGUE TEST EXPERIMENT</u></p>
	</div>
	<div id="outline">
  <div id="v1"></div>
  <div id="v2"></div>
  <div id="v3"></div>
  <div id="l1"></div>
  <div id="l2"></div> 
  <div id="l3"></div>
  	</div>
  </body>
  </html>